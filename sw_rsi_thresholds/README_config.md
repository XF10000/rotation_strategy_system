# 申万RSI阈值计算配置说明

## 配置文件位置
`config.py` - 主配置文件，包含所有可调整的参数

## 主要配置参数

### 1. RSI阈值分位数配置 (`RSI_THRESHOLDS`)

#### 普通阈值
- `普通超卖`: 15 (15%分位数)
- `普通超买`: 85 (85%分位数)

#### 极端阈值（按波动率分层）
- **高波动行业**: 超卖5%, 超买95%
- **中波动行业**: 超卖8%, 超买92%  
- **低波动行业**: 超卖10%, 超买90%

### 2. 计算周期配置 (`CALCULATION_PERIODS`)
- `lookback_weeks`: 104 (历史数据回看周数，约2年)
- `rsi_period`: 14 (RSI计算周期)
- `volatility_quantiles`: Q1=25%, Q3=75% (波动率分层分位数)

### 3. 数据质量控制 (`DATA_QUALITY`)
- `min_data_points`: 50 (最少需要的周数据)
- `min_rsi_points`: 20 (最少需要的RSI数据点)

## 如何调整参数

### 调整RSI阈值敏感度

**更敏感的信号** (更频繁触发):
```python
RSI_THRESHOLDS = {
    "普通超卖": 20,  # 提高超卖阈值
    "普通超买": 80,  # 降低超买阈值
    "极端阈值": {
        "高波动": {"超卖": 8, "超买": 92},   # 提高极端阈值
        "中波动": {"超卖": 12, "超买": 88},
        "低波动": {"超卖": 15, "超买": 85}
    }
}
```

**更保守的信号** (较少触发):
```python
RSI_THRESHOLDS = {
    "普通超卖": 10,  # 降低超卖阈值
    "普通超买": 90,  # 提高超买阈值
    "极端阈值": {
        "高波动": {"超卖": 3, "超买": 97},   # 降低极端阈值
        "中波动": {"超卖": 5, "超买": 95},
        "低波动": {"超卖": 8, "超买": 92}
    }
}
```

### 调整历史数据周期

**更短周期** (对近期变化更敏感):
```python
CALCULATION_PERIODS = {
    "lookback_weeks": 52,  # 1年历史数据
    "rsi_period": 14
}
```

**更长周期** (更稳定的阈值):
```python
CALCULATION_PERIODS = {
    "lookback_weeks": 156,  # 3年历史数据
    "rsi_period": 14
}
```

## 常用配置组合

### 1. 激进交易策略
```python
RSI_THRESHOLDS = {
    "普通超卖": 20, "普通超买": 80,
    "极端阈值": {
        "高波动": {"超卖": 8, "超买": 92},
        "中波动": {"超卖": 12, "超买": 88},
        "低波动": {"超卖": 15, "超买": 85}
    }
}
CALCULATION_PERIODS = {"lookback_weeks": 52, "rsi_period": 14}
```

### 2. 保守长期策略
```python
RSI_THRESHOLDS = {
    "普通超卖": 10, "普通超买": 90,
    "极端阈值": {
        "高波动": {"超卖": 3, "超买": 97},
        "中波动": {"超卖": 5, "超买": 95},
        "低波动": {"超卖": 8, "超买": 92}
    }
}
CALCULATION_PERIODS = {"lookback_weeks": 156, "rsi_period": 14}
```

### 3. 平衡策略（默认配置）
当前的默认配置适合大多数情况，在敏感度和稳定性之间取得平衡。

## 使用流程

1. **修改配置**: 编辑 `config.py` 文件中的参数
2. **运行计算**: 执行 `python3 run_sw_2021_rsi_calculation.py`
3. **查看结果**: 检查生成的 `sw2_rsi_threshold.csv` 文件
4. **调整优化**: 根据结果调整配置参数，重复上述过程

## 注意事项

- 修改配置后需要重新运行计算才能生效
- 建议先用演示模式测试新配置: `--demo --sample 5`
- 历史数据周数不宜过短（建议至少52周）
- 极端阈值应该比普通阈值更极端（数值更小或更大）