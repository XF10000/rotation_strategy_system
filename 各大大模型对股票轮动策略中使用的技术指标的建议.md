# ***1. G4.1***
    
你目前的投资思路非常清晰，结合了基本面和绝对估值（DCF），现在想用技术分析来辅助持仓轮动，实现更高收益。你关注的是“中线周期”（周/月级别）的阶段高低点判断，目的是在持仓股票间进行仓位切换，捕捉行业与个股的轮动机会。

针对你的需求，推荐以下技术分析方法，均适合中线周期、轮动策略，并且容易量化实现：

---

## 1. 均线系统（MA/EMA）

- **核心思路**：利用不同周期的均线判断趋势和拐点。
- **常用方法**：
    - 5周、10周、20周均线交叉：短期均线上穿长期均线为买入信号，下穿为卖出信号。
    - 月线级别可用5月、10月均线。
- **优点**：直观、适合趋势轮动捕捉。

---

## 2. 相对强弱指数（RSI）

- **核心思路**：衡量超买超卖，判断阶段高低点。
- **常用参数**：14天、14周RSI。
- **用法**：
    - RSI > 70：超买，阶段高点概率大增，可考虑减仓或轮动。
    - RSI < 30：超卖，阶段低点概率大增，可考虑加仓或轮动进来。
- **优点**：简单有效，容易量化。

---

## 3. 随机指标（KDJ/Stochastic）

- **核心思路**：类似RSI，判断超买超卖和拐点。
- **常用参数**：9周KDJ。
- **用法**：
    - K线、D线高于80为超买，低于20为超卖。
    - K线拐头向下/向上为信号。
- **优点**：对震荡市较敏感，适合捕捉阶段性高低点。

---

## 4. MACD

- **核心思路**：趋势和拐点共振判断。
- **常用参数**：12, 26, 9（周线、月线均可）。
- **用法**：
    - DIF线上穿DEA（金叉）为买入，反之为卖出。
    - 观察柱状图背离，辅助判断拐点。
- **优点**：趋势为主，适合中线轮动。

---

## 5. 布林带（Bollinger Bands）

- **核心思路**：判断价格偏离均值的程度，辅助判断高低点。
- **用法**：
    - 股价触及上轨且缩量，阶段高点概率大。
    - 股价触及下轨且放量，阶段低点概率大。
- **优点**：直观辅助判断极端点位。

---

## 6. 行业/个股相对强弱（Relative Strength）

- **核心思路**：对比不同持仓股票的强弱，轮动更有依据。
- **用法**：
    - 计算每只股票的“相对强弱指数”或“相对收益率”（比如本周涨幅/行业指数涨幅）。
    - 强者恒强时持有强势股，弱转强时轮动进低位股。
- **优点**：专为轮动策略设计。

---

## 推荐组合策略

- 均线趋势+RSI/KDJ超买超卖共振，作为主要轮动信号。
- MACD和布林带作为辅助确认。
- 行业/个股相对强弱排序，决定轮动方向。

---

## 量化轮动操作建议

1. 每周/每月定期复盘持仓股票，计算上述指标。
2. 当某只股票出现阶段高点信号（如周线RSI>70且短均下穿长均），而另一只股票出现阶段低点信号（如周线RSI<30且短均上穿长均），则考虑仓位轮动。
3. 没有合适轮动对象时，可部分持有现金，等待机会。


------

# ***2. DS R1***
理解你的需求！作为价值投资者，你已建立了坚实的DCF估值基础和安全边际原则，现在希望在持有组合中引入**中线周期（周/月线）的技术分析进行仓位轮动**，目标是捕捉行业景气轮动和个股技术性超买/超卖机会，提升资金利用效率。

你的思路非常合理——技术分析在此的作用是**优化买卖时机**，而非替代基本面决策。基于你的目标（中线周期、行业轮动、超买超卖），我推荐以下技术分析方法组合，兼顾有效性和可操作性：

---

### **核心推荐：四大技术分析工具（中线周期应用）**
#### **1. 相对强弱指数（RSI） - 识别超买超卖**
   * **原理：** 衡量价格变动速度和幅度（0-100区间）。
   * **中线应用：**
     * **周线RSI > 70：** 视为进入超买区域，可能接近阶段性高点（警惕回调或盘整）。
     * **周线RSI < 30：** 视为进入超卖区域，可能接近阶段性低点（关注反弹机会）。
   * **轮动价值：** 直观对比不同持仓个股的RSI水平，优先轮出超买股，轮入超卖股。
   * **你的场景适配：** 完美契合捕捉“超买超卖”的需求，且周线周期过滤噪音。

#### **2. 移动平均线（MA） - 判断趋势与支撑阻力**
   * **关键均线（周线图）：**
     * **10周MA：** 短期趋势、动态支撑/阻力。
     * **20/50周MA：** 中期趋势生命线，强支撑/阻力位。股价大幅偏离均线易回归。
   * **中线应用：**
     * **阶段高点信号：** 股价大幅高于50周MA（如>20%），且上涨动能减弱（如RSI超买），周K线出现滞涨形态（长上影、十字星）。
     * **阶段低点信号：** 股价触及或略低于50周MA，且RSI超卖，周K线出现企稳形态（锤头线、启明星）。
   * **轮动价值：** 识别偏离均线过远的个股，作为轮动候选。

#### **3. MACD（异同移动平均线） - 捕捉趋势动能变化**
   * **原理：** 由DIF线（快线）、DEA线（慢线）、MACD柱状图组成，反映趋势强度和转折。
   * **中线应用（周线图）：**
     * **潜在阶段高点信号：**
       * DIF在高位下穿DEA（死叉）。
       * MACD柱状线出现顶背离（股价创新高，MACD高点却降低）。
       * 配合RSI超买更可靠。
     * **潜在阶段低点信号：**
       * DIF在低位上穿DEA（金叉）。
       * MACD柱状线出现底背离（股价创新低，MACD低点却抬高）。
       * 配合RSI超卖更可靠。
   * **轮动价值：** MACD的背离和交叉是较强的中线趋势转折预警信号，帮助判断轮动时机。

#### **4. 布林带（Bollinger Bands） - 衡量波动率与价格位置**
   * **原理：** 由中轨（N期MA）、上轨（中轨+2倍标准差）、下轨（中轨-2倍标准差）组成。通道收窄预示变盘，价格触及通道边缘常回归。
   * **中线应用（周线图）：**
     * **阶段高点信号：** 股价触及或突破上轨，**同时**伴随RSI超买、成交量异常放大（可能力竭）。
     * **阶段低点信号：** 股价触及或跌破下轨，**同时**伴随RSI超卖、成交量萎缩（可能恐慌见底）。
   * **轮动价值：** 清晰显示股价相对于其近期波动范围的位置，识别极端价格。

---

### **轮动策略执行流程（建议）**
1. **定期扫描（如每周）：** 检查所有持仓股的**周线图**。
2. **综合信号评估（重点看是否共振）：**
   * **轮出候选（阶段高点）：**
     * RSI > 70（或接近历史超买阈值）。
     * 股价大幅高于50周MA（如 > 15-20%）。
     * MACD出现死叉或顶背离。
     * 股价触及布林带上轨且出现滞涨K线。
     * *（满足2-3条即可关注，共振信号更强）*
   * **轮入候选（阶段低点）：**
     * RSI < 30（或接近历史超卖阈值）。
     * 股价在50周MA附近或略下方企稳。
     * MACD出现金叉或底背离。
     * 股价触及布林带下轨且出现企稳K线。
     * *（满足2-3条即可关注，共振信号更强）*
3. **基本面确认：** 确保轮入/轮出候选股的**基本面逻辑未变**，DCF估值和安全边际仍在（这是你的核心优势！技术只是择时）。
4. **执行轮动：**
   * 当A股出现较强“阶段高点”信号，B股出现较强“阶段低点”信号，且基本面均稳固时，进行仓位兑换（如卖出部分A，买入等值B）。
   * 若只有卖出信号无合适买入标的，可暂时持有现金等待机会。
   * 若只有买入信号（现金充足），可单独加仓。
5. **风险管理：**
   * **仓位控制：** 单次轮动比例不宜过大（如不超过该个股仓位的1/3）。
   * **止损（保护性）：** 轮入后若技术破位（如跌破关键支撑且伴随放量），及时止损。轮出后若股价继续大涨，需反思是否误判，勿追高。
   * **记录与复盘：** 记录每次轮动依据（技术信号+基本面）和结果，持续优化。

---

### **为何推荐这套组合？**
1. **契合中线周期：** RSI、MACD、MA、布林带在周/月线上的信号比日线更稳定可靠，减少噪音干扰。
2. **聚焦核心目标：**
   * RSI + 布林带 → 直接定位超买超卖。
   * MA + MACD → 判断趋势动能和位置偏离。
3. **互补性强：** 单一指标易出错，多指标共振提高胜率（如RSI超买 + MACD死叉 + 触及布林带上轨）。
4. **行业轮动友好：** 这套方法可同时应用于不同行业个股，方便横向比较强弱。
5. **学习曲线适中：** 这四大指标是最经典、最常用的，资料丰富，易于理解和应用。

---

### **重要提醒（价值投资者的技术分析红线）**
1. **技术服务于基本面：** 轮动决策**必须**建立在基本面研究依然有效的基础上。技术信号只是告诉你“何时”操作更好，而不是“是否”操作。若公司基本面恶化，即使技术面再好也应卖出；若基本面强劲且极度低估，技术超卖是绝佳买入点。
2. **不存在100%准确：** 技术分析是概率游戏。接受会有误判，严格执行风险管理。
3. **避免过度交易：** 价值投资本质是“等待”。技术轮动是优化，不是频繁交易的借口。只在信号明确且共振时操作。
4. **理解指标局限性：** 在极端单边市或重大事件冲击下，技术指标可能失效。
5. **个性化调整：** 不同行业/个股的波动性不同（如锂矿波动远大于冷冻食品）。观察历史数据，调整RSI超买超卖阈值（如高波动股用75/25，低波动股用70/30）。

---

### **下一步行动建议**
1. **学习工具：** 在交易软件（如Wind, 同花顺, 东方财富等）中调出你持仓股的**周K线图**，叠加RSI(14)、MACD(12,26,9)、BOLL(20,2)指标，观察50周均线。
2. **历史回测：** 选取1-2只熟悉持仓股，回顾过去几年走势，看当上述信号（尤其是共振信号）出现时，后续几周/几月的表现如何。这能增强直观感受。
3. **小资金试水：** 先用少量资金或模拟盘，严格按照这套方法尝试1-2次轮动，体会过程。
4. **保持耐心：** 等待优质信号需要时间，不要为了轮动而轮动。

价值投资结合技术轮动是一条有效的进阶之路，你的基础非常扎实。记住：**技术分析是增加概率的砝码，而基本面研究是压舱石。** 控制好风险，保持纪律，祝你轮动成功！
------

# *3. CS3.7*  
作为一位基本面价值投资者，您已经做了扎实的基本面研究，现在希望通过技术分析来优化持仓间的轮动策略。这是一个很好的思路，可以帮助您在保持价值投资理念的同时，提高资金使用效率。以下是几种适合中线周期（周/月）判断的技术分析方法：

## 1. 相对强弱指标 (RSI)

**原理**：RSI测量价格变动的速度和幅度，判断股票是否超买或超卖。

- RSI值范围在0-100之间
- 通常RSI > 70被视为超买（可能是阶段高点）
- RSI < 30被视为超卖（可能是阶段低点）

**适用性**：RSI特别适合识别价格可能反转的区域，对于您的轮动策略非常有用。可以使用14周期RSI来判断中线趋势。

## 2. 移动平均线系统

**原理**：结合短期和长期移动平均线来判断趋势方向和强度。

- 常用组合：20日与50日移动平均线，或50日与200日移动平均线
- 短期均线上穿长期均线形成"金叉"（买入信号）
- 短期均线下穿长期均线形成"死叉"（卖出信号）

**适用性**：移动平均线系统可以帮助您确认中期趋势的转变，减少假信号。

## 3. MACD (移动平均线收敛发散指标)

**原理**：MACD结合了趋势和动量，由MACD线、信号线和柱状图组成。

- MACD线上穿信号线为买入信号
- MACD线下穿信号线为卖出信号
- 柱状图由负转正表示上涨动能增强，由正转负表示下跌动能增强

**适用性**：MACD在识别中期趋势转变方面表现出色，可以帮助您确定轮动时机。

## 4. 布林带 (Bollinger Bands)

**原理**：由中轨(20日移动平均线)和上下轨(中轨±2倍标准差)组成。

- 价格接近上轨可能表示阶段高点
- 价格接近下轨可能表示阶段低点
- 带宽扩大表示波动性增加，带宽收窄表示波动性减小

**适用性**：布林带可以帮助您识别价格是否处于极端区域，适合判断轮动时机。

## 5. 相对强度比较 (Relative Strength Comparison)

**原理**：比较不同股票之间的相对强弱关系。

- 计算方法：股票A价格/股票B价格，或股票/行业指数
- 比值上升表示股票A相对强势
- 比值下降表示股票A相对弱势

**适用性**：这对您的轮动策略特别有用，可以直接比较您持有的不同行业股票的相对强弱，帮助决定从哪个股票轮动到哪个股票。

## 6. 量价关系分析

**原理**：结合成交量和价格变动来判断趋势的可靠性。

- 价格上涨+成交量增加 = 强势上涨信号
- 价格下跌+成交量增加 = 强势下跌信号
- 价格上涨+成交量减少 = 弱势上涨信号（可能即将见顶）
- 价格下跌+成交量减少 = 弱势下跌信号（可能即将见底）

**适用性**：量价关系可以帮助您确认价格走势的可靠性，避免在虚假突破时进行轮动。

## 推荐的综合策略

基于您的需求，我建议结合以下指标构建轮动策略：

1. **主要判断工具**：RSI + 相对强度比较
    
    - 使用RSI(14)周线判断个股是否处于超买/超卖区域
    - 使用相对强度比较判断持仓股票间的相对强弱
2. **趋势确认工具**：MACD周线 + 50/200日均线系统
    
    - 确认中期趋势方向，避免逆势操作
3. **辅助判断工具**：布林带 + 量价关系
    
    - 提供额外的确认信号，减少误判

这种组合可以帮助您在持有的价值股之间进行更科学的轮动，在保持价值投资理念的同时提高资金效率。

  ------

# ***4. CS4***

## 1. 周K线MACD详解

**参数设置**：

- 快线EMA：12周
- 慢线EMA：26周
- 信号线DEA：9周

**具体操作信号**：

- **强卖出信号**：DIF从上方下穿DEA（死叉）+ 柱状图由正转负 + MACD整体在0轴上方
- **强买入信号**：DIF从下方上穿DEA（金叉）+ 柱状图由负转正 + MACD整体在0轴下方
- **注意**：0轴上方死叉比0轴下方死叉更可靠，反之亦然

## 2. 月K线均线系统详解

**均线组合**：

- **5月均线**：短期趋势线
- **10月均线**：中期趋势线
- **20月均线**：长期趋势线

**多头排列**（买入环境）：5月线 > 10月线 > 20月线，且均线向上 **空头排列**（卖出环境）：5月线 < 10月线 < 20月线，且均线向下

**具体信号**：

- **卖出**：股价跌破5月线，且5月线开始走平或下行
- **买入**：股价重新站上5月线，且5月线开始上翘
- **重要支撑/阻力**：10月线和20月线位置

## 3. 周RSI + 月RSI组合详解

**RSI计算周期**：14周/14月

**数值区间判断**：

- **超买区**：RSI > 70
- **正常区**：30 ≤ RSI ≤ 70
- **超卖区**：RSI < 30

**双重确认机制**：

- **卖出信号**：周RSI > 75 且月RSI > 65（双重超买）
- **买入信号**：周RSI < 25 且月RSI < 35（双重超卖）
- **背离信号**：价格创新高但RSI不创新高（顶背离，卖出）

## 4. 周KDJ详解

**参数**：K=9，D=3，J=3

**数值含义**：

- K值：快速随机指标
- D值：K值的3周移动平均
- J值：3K-2D

**关键信号**：

- **高位死叉**：K值在80以上时，K线下穿D线
- **低位金叉**：K值在20以下时，K线上穿D线
- **极端值**：J值>100为超买，J值<0为超卖

## 实战组合策略

**三重确认卖出**：

1. 周MACD死叉确认
2. 周KDJ高位死叉
3. 股价跌破月5线且5线走平

**三重确认买入**：

1. 周MACD金叉确认
2. 周KDJ低位金叉
3. 股价站上月5线且5线上翘

**时间节奏**：

- 信号出现后等待1-2周确认
- 分批建仓/减仓（比如分2-3次完成）
- 单次轮动后至少持有6-12周

**风控要点**：

- 月20线是重要生命线，跌破要谨慎
- 周RSI极端值（>85或<15）时要特别关注反转
- 避免在所有指标都处于中性区间时操作

------

# ***5. DB***
对于您的需求（基于中线周期判断阶段高低点，实现持仓轮动），技术分析的核心是**捕捉中长期趋势的转折信号**，同时过滤短期噪音。由于您关注的是 “几周至几个月” 的周期，建议聚焦于**周线级别**（辅助月线确认）的指标和方法，避免短期（日线以下）信号的干扰。以下是最适合的技术分析方法及逻辑，按重要性排序：

### 一、核心：趋势类指标（判断趋势方向与转折）

趋势是中线周期的核心，“阶段高点 / 低点” 本质是趋势的短期反转（或至少是阶段性停顿）。趋势类指标能帮您判断当前趋势是否延续，以及是否出现反转信号。

#### 1. 移动平均线（MA，重点用周线）

- **原理**：通过计算股价的平均价格（过滤短期波动），反映中长期趋势方向。均线向上 = 趋势向上，均线向下 = 趋势向下。

- **用法**（以周线为例）：

- 选择**20 周均线**（反映中期趋势，约 100 个交易日，对应 4-5 个月）和**60 周均线**（反映长期趋势，约 300 个交易日，对应 1 年左右）。

- **阶段高点信号**：股价在上涨趋势中，从均线上方跌破 20 周均线，且 20 周均线开始走平或向下（与 60 周均线形成 “死叉”——20 周线跌破 60 周线），说明中期趋势可能转弱，大概率进入阶段性调整。

- **阶段低点信号**：股价在下跌趋势中，从均线下方突破 20 周均线，且 20 周均线开始走平或向上（与 60 周线形成 “金叉”——20 周线突破 60 周线），说明中期趋势可能转强，大概率进入阶段性反弹。

- **优势**：简单直观，能有效过滤短期噪音，符合中线周期的 “趋势惯性” 逻辑（趋势一旦形成，不会突然反转）。

#### 2. MACD（指数平滑异同平均线，周线级别）

- **原理**：通过计算短期（12 周）与长期（26 周）指数平均线的差，反映趋势的 “动量”（强度）。当动量减弱时，趋势可能反转。

- **用法**（周线）：

- 关注**MACD 柱状线**（反映动量强弱）和**MACD 线与信号线的交叉**：

- **阶段高点信号**：股价上涨但 MACD 柱状线 “顶背离”（股价创新高，柱状线未创新高），随后 MACD 线向下穿过信号线（死叉），说明上涨动量衰竭，可能见顶。

- **阶段低点信号**：股价下跌但 MACD 柱状线 “底背离”（股价创新低，柱状线未创新低），随后 MACD 线向上穿过信号线（金叉），说明下跌动量衰竭，可能见底。

- **优势**：比均线更提前反映趋势转折（动量先于价格变化），适合中线 “趋势反转早期” 判断。

### 二、辅助：震荡类指标（判断超买超卖，确认高低点）

趋势类指标判断方向，震荡类指标判断 “价格是否偏离合理区间”（超买 = 价格过高，可能回调；超卖 = 价格过低，可能反弹），用于验证趋势转折的有效性。

#### 1. RSI（相对强弱指数，周线级别）

- **原理**：通过计算股价上涨与下跌的幅度比例，判断当前市场的 “超买 / 超卖” 程度（本质是衡量多空力量的极端状态）。

- **用法**（周线，参数设为 14）：

- **阶段高点信号**：RSI 数值超过 70（超买区间），且伴随股价上涨乏力（如出现 “顶背离”—— 股价新高但 RSI 未新高），说明买方力量耗尽，可能见顶。

- **阶段低点信号**：RSI 数值低于 30（超卖区间），且伴随股价下跌乏力（如 “底背离”—— 股价新低但 RSI 未新低），说明卖方力量耗尽，可能见底。

- **注意**：超买 / 超卖不是绝对信号（强势趋势中，超买可能持续），必须结合趋势类指标（如 MACD 死叉 + RSI 超买，才确认高点）。

#### 2. 布林带（Bollinger Bands，周线级别）

- **原理**：以 20 周均线为中轨，上下轨为股价的 “标准差区间”（反映价格的正常波动范围），突破轨道通常意味着波动放大（可能是趋势延续或反转）。

- **用法**（周线）：

- **阶段高点信号**：股价连续上涨后触及上轨，且成交量放大但股价无法突破上轨（甚至回落），说明短期上涨到极限，可能进入调整。

- **阶段低点信号**：股价连续下跌后触及下轨，且成交量萎缩后突然放量反弹（脱离下轨），说明短期下跌到极限，可能进入反弹。

- **优势**：能直观反映价格的 “极端位置”，与均线（中轨）结合可同时判断趋势和波动边界。

### 三、关键验证：成交量分析（确认信号有效性）

技术信号的 “真假” 需要成交量配合 —— 趋势转折时，成交量放大往往意味着资金共识更强，信号更可靠。

- **阶段高点的成交量特征**：股价上涨到高位时，若出现 “放量下跌”（周线成交量显著大于前几周，且股价收跌），说明有资金大量离场，确认阶段高点。

- **阶段低点的成交量特征**：股价下跌到低位时，若出现 “缩量后放量上涨”（先持续缩量至近期低点，然后突然放量收涨），说明资金开始入场，确认阶段低点。

### 四、辅助：形态分析（周线级别）

中线周期的形态（由多根周 K 线组成）能反映资金的 “共识行为”，形态突破后的信号更可靠（因为形成时间长，短期资金难以操纵）。

- **阶段高点形态**：头肩顶（左肩 - 头顶 - 右肩，颈线跌破后确认）、双顶（两个高点基本持平，跌破颈线确认）。

- **阶段低点形态**：头肩底（左肩 - 头底 - 右肩，颈线突破后确认）、双底（两个低点基本持平，突破颈线确认）。

- **优势**：形态形成后，目标空间可测算（如头肩顶的跌幅约为头顶到颈线的距离），便于判断轮动的潜在收益。

### 五、组合策略：多指标验证（避免单一信号误导）

单一指标可能出现 “假信号”（如 RSI 超买后股价继续上涨），需结合多个指标确认：

#### 阶段高点确认（满足 3 个以上）：

- 周线股价跌破 20 周均线，且 20 周线走平；

- 周线 MACD 出现死叉，且柱状线顶背离；

- 周线 RSI>70 且开始回落；

- 股价触及布林带上轨后回落，伴随放量下跌；

- 出现头肩顶 / 双顶形态，且跌破颈线。

#### 阶段低点确认（满足 3 个以上）：

- 周线股价突破 20 周均线，且 20 周线走平；

- 周线 MACD 出现金叉，且柱状线底背离；

- 周线 RSI<30 且开始回升；

- 股价触及布林带下轨后反弹，伴随缩量后放量；

- 出现头肩底 / 双底形态，且突破颈线。

### 六、注意事项（结合您的价值投资框架）

1. **技术信号必须与基本面不冲突**：若某股票因技术信号被判断为 “阶段高点”，但您的 DCF 估值显示其内在价值仍远高于当前市值（安全边际充足），则可能是短期情绪导致的波动，不宜卖出（或仅小幅减仓）。

2. **中线周期的 “耐心”**：周线信号可能需要 1-2 周确认（如形态突破后回踩颈线），不要急于操作。

3. **仓位控制**：轮动时单次兑换仓位（如 10%），避免因信号错误导致大幅损失；若只有卖出信号而无买入信号，可转为现金（符合您 “安全边际” 的核心原则）。

### 总结

对您而言，最核心的方法是：**以周线 20/60 均线判断趋势方向，MACD+RSI 判断趋势动量与超买超卖，成交量验证资金共识，形态分析辅助确认**。这套组合既符合中线周期的逻辑，又能过滤短期噪音，与您的价值投资框架（先基本面，后技术轮动）兼容。

后续编写代码时，可基于上述指标的量化条件（如周线 MACD 死叉 + RSI>70 + 跌破 20 周线）设置信号阈值，当持仓股中出现满足 “阶段高点” 的股票 A 和 “阶段低点” 的股票 B 时，触发轮动提示。

------
# *6. K K2*
下面给你一套“保守型中线仓位兑换”的完整技术框架：  
1）只用周线（或月线）数据；  
2）只做“阶段高点 / 阶段低点”过滤，不追求精确顶底；  
3）信号简单、可程序化；  
4）完全独立于基本面，只服务仓位兑换。  

------------------------------------------------  
一、核心思路：把“趋势强弱”与“极端拥挤/超跌”分开看  
1. 趋势方向——判断“还能不能继续涨/跌”  
   • 指标：20 周 EMA（或 26 周 EMA，近似月线 6 个月）  
   • 规则：价格位于 EMA 之上＝中期向上；之下＝中期向下。  
   保守派只做“顺趋势”的仓位兑换：  
   – 卖出只在“向上趋势里出现阶段高点”；  
   – 买入只在“向下趋势里出现阶段低点”。  

2. 极端拥挤/超跌——判断“短期再涨/再跌动能枯竭”  
   • 指标：14 周 RSI（慢速 RSI，过滤噪音）  
   • 阈值：  
     – RSI > 70 视为“阶段高点候选”；  
     – RSI < 30 视为“阶段低点候选”。  

3. 二次确认——避免“钝化”  
   • 指标：MACD(12,26,9) 周线柱体  
   • 规则：  
     – 卖出信号：柱体从正值开始连续 2 根缩小（顶背离增强）；  
     – 买入信号：柱体从负值开始连续 2 根缩小（底背离增强）。  

------------------------------------------------  
二、完整信号定义（可直译成代码）  

A. 阶段高点（可卖出该股票持仓 10%）  
   1. 收盘价仍在 20 周 EMA 之上；  
   2. 当周 RSI > 70；  
   3. MACD 柱体连续 2 周缩短；  
   4. 当周收盘价 < 前 3 周最高价的 95%（防止追高）。  
   四条同时满足，次周开盘卖出 10% 仓位（或一次性提示）。  

B. 阶段低点（可买入该股票持仓的 10%）  
   1. 收盘价仍在 20 周 EMA 之下；  
   2. 当周 RSI < 30；  
   3. MACD 柱体连续 2 周缩短；  
   4. 当周收盘价 > 前 3 周最低价的 105%（防止杀跌）。  
   四条同时满足，次周开盘用现金买入 10% 仓位。  

C. 无配对情况  
   • 出现 A 但无 B：卖出后现金等待；  
   • 出现 B 但无 A：直接动用现金买入。  


------------------------------------------------  
三、参数为何“慢”——保守派的自然选择  
周线 20EMA + 14RSI + MACD 周线，天然把噪音降到很低，  
避免日线级别的频繁假信号；  
阈值 70/30 与连续 2 根柱体缩短，再加收盘价过滤，  
保证真正触发时往往对应 4-8 周以上的波段顶/底。  

------------------------------------------------  
四、极简 Python 代码示例（以 AkShare + pandas_ta 为例）  

```python
import akshare as ak
import pandas_ta as ta
import pandas as pd

def get_weekly(code, start='20200101'):
    df = ak.stock_zh_a_hist(symbol=code, period="weekly", start_date=start, adjust="")
    df['date'] = pd.to_datetime(df['日期'])
    df = df.set_index('date')[['开盘','收盘','最高','最低','成交量']]
    df.columns = ['open','close','high','low','volume']
    return df.sort_index()

def signal(df):
    df['ema20'] = ta.ema(df['close'], length=20)
    df['rsi14'] = ta.rsi(df['close'], length=14)
    macd = ta.macd(df['close'])
    df['macd'], df['signal'], df['hist'] = macd['MACD_12_26_9'], macd['MACDs_12_26_9'], macd['MACDh_12_26_9']
    # 连续 2 根柱体缩短
    df['hist_shrink'] = (df['hist'].diff() < 0) & (df['hist'].shift(1).diff() < 0)
    # 高点条件
    cond_high = (
        (df['close'] > df['ema20']) &
        (df['rsi14'] > 70) &
        (df['hist_shrink']) &
        (df['close'] < df['high'].rolling(3).max() * 0.95)
    )
    # 低点条件
    cond_low = (
        (df['close'] < df['ema20']) &
        (df['rsi14'] < 30) &
        (df['hist_shrink']) &
        (df['close'] > df['low'].rolling(3).min() * 1.05)
    )
    latest = df.iloc[-1]
    return {'sell': bool(cond_high.iloc[-1]), 'buy': bool(cond_low.iloc[-1])}

if __name__ == '__main__':
    portfolio = ['601088','000807','002460','002262','002330']  # 示例：神华、云铝、赣锋、恩华、得利斯
    for code in portfolio:
        df = get_weekly(code)
        sig = signal(df)
        print(code, sig)
```

运行后输出示例：  
```
601088 {'sell': False, 'buy': False}
000807 {'sell': True, 'buy': False}
... 
```
把 True 的代码对应到你的持仓表，再按前述规则做仓位兑换即可。  

------------------------------------------------  
五、落地步骤  
1. 每周收盘后跑一次脚本，得到本周信号；  
2. 若出现卖出信号，先检查是否有其他股票出现买入信号，  
   有就 1:1 兑换，没有就留现金；  
3. 每次兑换固定比例（如 10%），保持整体仓位不过度漂移；  
4. 每半年回顾一次指标参数是否仍与市场节奏匹配，  
   保守派不轻易调阈值。  

这套方法足够简单，也足够“迟钝”，正好匹配你的价值投资节奏：  
基本面决定“买不买、拿多久”，技术面只负责“何时调仓一点点”。


------

# *7. G-2.5-Pro*
您好！非常理解您的投资策略。将价值投资的基本面分析与技术分析的择时功能相结合，是一种非常成熟和有效的投资方法，尤其适合您这种希望在优质资产之间进行轮动的需求。

您提到的“阶段高点”和“阶段低点”正是技术分析的核心目标之一。对于您关注的周线或月线级别的中长线交易，我推荐您从以下几个经典且有效的技术指标入手。它们相对容易理解，并且组合使用时效果很好。

### 推荐的技术分析方法

#### 1. 移动平均线 (Moving Average, MA)

移动平均线是技术分析的基石，它能平滑价格波动，帮助我们看清趋势的方向。

- **是什么：** 计算指定周期内（如20周、60周）的平均收盘价，并将这些平均价连接成一条线。
- **如何使用：**
    - **判断趋势：** 当股价在移动平均线之上时，通常被认为是上升趋势；反之则为下降趋势。您可以关注**20周移动平均线 (MA20)** 或 **30周移动行线 (MA30)**，这是中线趋势的生命线。
    - **寻找买卖点：**
        - **买入信号（阶段低点）：** 股价从下方突破并站稳在20周线上方，通常意味着下跌趋势结束，新的上升趋势可能开始。
        - **卖出信号（阶段高点）：** 股价从上方跌破20周线，通常意味着上升趋势的结束。
    - **均线交叉（金叉/死叉）：**
        - **金叉 (Golden Cross):** 短期均线（如10周线）从下向上穿过长期均线（如30周线），是非常经典的买入信号。
        - **死叉 (Death Cross):** 短期均线从上向下穿过长期均线，是经典的卖出信号。

#### 2. 相对强弱指数 (Relative Strength Index, RSI)

RSI 是一个动量指标，用于衡量近期价格变化的幅度和速度，帮助判断市场是否处于“超买”或“超卖”状态。

- **是什么：** 一个在0到100之间波动的指标。
- **如何使用：**
    - **判断超买超卖：**
        - **超卖区（阶段低点）：** RSI 低于30，表示市场可能已经过度抛售，股价随时可能反弹。当RSI从30下方回升到30上方时，是一个潜在的买入信号。
        - **超买区（阶段高点）：** RSI 高于70，表示市场可能已经过度买入，股价随时可能回调。当RSI从70上方回落到70下方时，是一个潜在的卖出信号。
    - **背离 (Divergence):**
        - **底背离（买入信号）：** 股价创出新低，但RSI并未创出新低。这表明下跌的动能正在减弱，是强烈的反转买入信号。
        - **顶背离（卖出信号）：** 股价创出新高，但RSI并未创出新高。这表明上涨的动能正在减弱，是强烈的反转卖出信号。

#### 3. 移动平均收敛散度 (MACD)

MACD 是一个趋势跟踪动量指标，它结合了移动平均线的优点，并提供了更清晰的买卖信号。

- **是什么：** 由两条线（DIF快线 和 DEA慢线）和一个柱状图（MACD Histogram）组成。
- **如何使用：**
    - **金叉与死叉：**
        - **买入信号（金叉）：** 在0轴上方或附近，快线（DIF）从下向上穿过慢线（DEA）。
        - **卖出信号（死叉）：** 在0轴上方，快线（DIF）从上向下穿过慢线（DEA）。
    - **柱状图：**
        - **买入信号：** 柱状图由绿变红（或由负变正），表示多头力量开始增强。
        - **卖出信号：** 柱状图由红变绿（或由正变负），表示空头力量开始增强。

### 建议的组合策略

单一指标可能会产生误导信号，最有效的方法是将它们结合起来，互相验证。一个稳健的中线交易策略可以是这样的：

**寻找买入/加仓信号（寻找阶段低点）：**

1. **趋势确认 (MA):** 股价站上20周移动平均线，确认进入上升趋势。
2. **时机确认 (RSI):** 周线RSI从30以下的超卖区回升。
3. **动能确认 (MACD):** 周线MACD在0轴附近发生金叉。 当这几个条件同时或相继出现时，就是一个非常可靠的买入信号。

**寻找卖出/减仓信号（寻找阶段高点）：**

1. **趋势确认 (MA):** 股价跌破20周移动平均线，确认上升趋势可能结束。
2. **时机确认 (RSI):** 周线RSI从70以上的超买区回落，或出现顶背离。
3. **动能确认 (MACD):** 周线MACD在0轴上方发生死叉。